<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <center><title>Peace</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/static/css/styles.css">
  </head>
  <body>
    <h1>Peace</h1>
 Practise and improve your speech with us!
  

    <div id="controls">
    <a href=# id=recordButton><button>Record</button></a>
  	 <button id="stopButton">Stop</button>
    <a href=# id=processButton><button onclick="location.href='http://127.0.0.1:5000/process';">Process</button></a>
    </div>
    Click start to start recording.
   <div id="formats"></div>
  	<h3 id="status"></h3>
  	<ol id="recordingsList"></ol>
    
    
  <div class="box">
  <div class="box__header">
    <h3 class="box__header-title"></h3>
  </div>
  <div class="box__body">
    <div class="stats stats--main">
      Analysis results of your speech 
      <div class="stats__amount"> {{ result.duration }} </div>
      <div class="stats__caption tooltip">Time duration
        <span class="tooltiptext">You spoke for this time in minutes and seconds.</span>     
      </div>
      <div class="stats__change">
          <div class="stats__value"> {{ result.duration_diff }}%</div>
          <div class="stats__period">from usual</div>
        </div>
      
     
    </div>

    <div class="stats">
      <div class="stats__amount">{{ result.articulation }}</div>
      <div class="stats__caption tooltip">Articulation speed
        <span class="tooltiptext">Average number of syllables used per second. Typical range is...</span>  
      </div>
      <div class="stats__change">
        <div class="stats__value">{{ result.articulation_diff }}%</div>
        <div class="stats__period">from usual</div>
      </div>
    </div>

    <div class="stats">
      <div class="stats__amount">{{ result.filler }}</div>
      <div class="stats__caption">Number of pauses and filler words</div>
      <div class="stats__change">
        <div class="stats__value"> {{ result.filler_diff}}% </div>
        <div class="stats__period">from usual</div>
      </div>
    </div>

    <div class="stats">
      <div class="stats__amount">{{ result.speech_rate }}</div>
      <div class="stats__caption">Rate of speech</div>
      <div class="stats__change">
        <div class="stats__value"> {{ result.speech_rate_diff }}%</div>
        <div class="stats__period">from usual</div>
      </div>
    </div>
    <div class="stats">
      <div class="stats__amount">{{ result.pronunciation }}</div>
      <div class="stats__caption">Pronounciation score</div>
      <div class="stats__change">
        <div class="stats__value"> {{ result.pronunciation_diff }}%</div>
        <div class="stats__period">from usual</div>
      </div>
    </div>
  </div>
</div>

    <!-- inserting these scripts at the end to be able to use all the elements in the DOM -->
  	<script src="https://cdn.rawgit.com/mattdiamond/Recorderjs/08e7abd9/dist/recorder.js"></script>
  	<script src="js/app.js"></script>
    
  </body>
</html>

<script type=text/javascript>
        $(function() {
          $('a#processButton').bind('click', function() {
            $.getJSON('/process',
                function(data) {
                    window.location.replace("http://127.0.0.1:5000/process");
            });
            return false;
          });
        });
</script>

</script>